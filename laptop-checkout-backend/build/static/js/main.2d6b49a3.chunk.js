(window["webpackJsonplaptop-checkout-frontend"]=window["webpackJsonplaptop-checkout-frontend"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),s=a.n(o),c=(a(17),a(1)),u=a.n(c),i=a(2),p=a(3),l=a(4),h=a(6),f=a(5),d=a(7),m=a(8),v=a(11),k={display:"flex",width:"100%"},b={flex:"1",textAlign:"left"},g={flex:"1",textAlign:"left"},w={flex:".5",textAlign:"left"},y=function(e){var t=e.laptop,a=e.isOverdue,n=e.onDelete,o=e.onSelect,s=e.onEdit;return r.a.createElement("li",{className:a?"overdue":""}," ",r.a.createElement("span",{className:"delete",onClick:n},r.a.createElement("i",{className:"fa fa-trash"})),r.a.createElement("span",{className:"edit",onClick:s},r.a.createElement("i",{className:"fa fa-edit"})),r.a.createElement("span",{onClick:o,style:k},r.a.createElement("span",{style:b},r.a.createElement("strong",null,"Laptop: "),t.name),r.a.createElement("span",{style:g},r.a.createElement("strong",null," Lease Date: "),t.leaseDate?new Date(t.leaseDate).toLocaleDateString("en-US",{timeZone:"UTC"}):"N/A"),r.a.createElement("span",{style:w},t.currentCheckout?"Checked Out":"")))},E=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={dateHasFocus:!1},a.handleBlur=function(){a.setState(function(e){return{dateHasFocus:!1}})},a.handleFocus=function(){a.setState(function(e){return{dateHasFocus:!0}})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.placeholder,t=new Date(this.props.value).toLocaleDateString("en-US",{timeZone:"UTC"});return this.props.value&&(e=e+": "+t),r.a.createElement("input",{name:this.props.name,type:this.state.dateHasFocus?"date":"text",value:this.state.dateHasFocus&&this.props.value?this.props.value:"",onChange:this.props.onChange,placeholder:e,onFocus:this.handleFocus,onBlur:this.handleBlur})}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={hasFocus:!1},a.handleBlur=function(){a.setState(function(e){return{hasFocus:!1}})},a.handleFocus=function(){a.setState(function(e){return{hasFocus:!0}})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.placeholder;return this.props.value&&(e=e+": "+this.props.value),r.a.createElement("input",{name:this.props.name,type:"text",value:this.state.hasFocus?this.props.value:"",onChange:this.props.onChange,placeholder:e,onFocus:this.handleFocus,onBlur:this.handleBlur})}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={laptopName:"",leaseDate:""},a.handleChange=function(e){var t=Object(m.a)({},e.target.name,e.target.value);a.setState(function(e){return t})},a.handleSubmit=function(e){e.preventDefault();var t={name:a.state.laptopName,leaseDate:a.state.leaseDate};a.setState(function(e){return{laptopName:"",leaseDate:""}}),a.state.laptopName&&a.props.addLaptop(t)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{id:"laptopInput"},r.a.createElement(D,{name:"laptopName",value:this.state.laptopName,onChange:this.handleChange,placeholder:"Laptop Name"}),r.a.createElement(E,{name:"leaseDate",placeholder:"Lease Date",value:this.state.leaseDate,onChange:this.handleChange}),r.a.createElement("button",{onClick:this.handleSubmit},"Add Laptop"))}}]),t}(n.Component),j="http://localhost:8080/api/laptops/",C="http://localhost:8080/api/checkouts/",S="http://localhost:8080/notify/";function L(){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(j).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return U.apply(this,arguments)}function U(){return(U=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=j+t,e.abrupt("return",fetch(a).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e){return A.apply(this,arguments)}function A(){return(A=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(j,{method:"post",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)}).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return H.apply(this,arguments)}function H(){return(H=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=j+t._id,e.abrupt("return",fetch(a,{method:"put",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)}).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(e){return B.apply(this,arguments)}function B(){return(B=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=j+t,e.abrupt("return",fetch(a,{method:"delete"}).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(C,{method:"post",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)}).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=C+t._id,e.abrupt("return",fetch(a,{method:"put",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)}).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Z(e){return J.apply(this,arguments)}function J(){return(J=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=C+t,e.abrupt("return",fetch(a,{method:"delete"}).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(i.a)(u.a.mark(function e(t,a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=j+t+"/history/"+a,e.abrupt("return",fetch(n,{method:"delete"}).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function W(e){return $.apply(this,arguments)}function $(){return($=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(S,{method:"post",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)}).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(e){return z.apply(this,arguments)}function z(){return(z=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(S+"overdue",{method:"post",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)}).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(e){return K.apply(this,arguments)}function K(){return(K=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=j+"search/"+t,e.abrupt("return",fetch(a).then(function(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw{errorMessage:e.message}});throw{errorMessage:"Error: Server is not responding"}}return e.json()}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var X=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={laptopName:a.props.laptop.name,leaseDate:a.props.laptop.leaseDate},a.handleChange=function(e){var t=Object(m.a)({},e.target.name,e.target.value);a.setState(function(e){return t})},a.handleSubmit=function(e){e.preventDefault();var t=a.props.laptop;t.name=a.state.laptopName,t.leaseDate=a.state.leaseDate,a.state.laptopName&&a.props.updateLaptop(t),a.setState(function(e){return{laptopName:"",leaseDate:""}})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.laptop.leaseDate&&this.setState(function(t){return{leaseDate:new Date(e.props.laptop.leaseDate).toISOString().substring(0,10)}})}},{key:"render",value:function(){if(this.props.laptop)return r.a.createElement("form",{id:"laptopInput"},r.a.createElement(D,{name:"laptopName",value:this.state.laptopName,onChange:this.handleChange,placeholder:"Laptop Name"}),r.a.createElement(E,{name:"leaseDate",placeholder:"Lease Date",value:this.state.leaseDate,onChange:this.handleChange}),r.a.createElement("button",{onClick:this.handleSubmit},"Update Laptop"))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={searchQuery:""},a.handleChange=function(){var e=Object(i.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.a)({},t.target.name,t.target.value),e.next=3,a.setState(function(e){return n});case 3:a.props.search(a.state.searchQuery);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(){var e=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.props.search(a.state.searchQuery);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.clearSearch=function(){var e=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState(function(e){return{searchQuery:""}}),e.next=4,a.props.search(a.state.searchQuery);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{id:"searchForm"},r.a.createElement("input",{type:"text",name:"searchQuery",value:this.state.searchQuery,onChange:this.handleChange,placeholder:"Search"}),r.a.createElement("input",{type:"submit",onClick:this.handleSubmit,style:{display:"none"}}))}}]),t}(n.Component);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ae=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={laptops:[],laptopToUpdate:null},a.loadLaptops=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:t=e.sent,a.setState(function(e){return{laptops:t}});case 4:case"end":return e.stop()}},e)})),a.addLaptop=function(){var e=Object(i.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:n=e.sent,a.setState(function(e){return{laptops:[].concat(Object(v.a)(a.state.laptops),[n])}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updateLaptop=function(){var e=Object(i.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:n=e.sent,r=a.state.laptops.map(function(e){return e._id===n._id?n:e}),a.setState(function(e){return{laptops:r,laptopToUpdate:null}});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.deleteLaptop=function(){var e=Object(i.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:n=a.state.laptops.filter(function(e){return e._id!==t}),a.setState(function(e){return{laptops:n}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.enableEditMode=function(){var e=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState(function(e){return{laptopToUpdate:null}});case 2:a.setState(function(e){return{laptopToUpdate:te({},t)}});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.sortLaptops=function(e){return e.sort(function(e,t){return e.leaseDate&&t.leaseDate?new Date(e.leaseDate)-new Date(t.leaseDate):new Date(t.leaseDate)-new Date(e.leaseDate)}),e},a.searchLaptops=function(){var e=Object(i.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=7;break}return e.next=3,G(t);case 3:n=e.sent,a.setState(function(e){return{laptops:n}}),e.next=11;break;case 7:return e.next=9,L();case 9:r=e.sent,a.setState(function(e){return{laptops:r}});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadLaptops()}},{key:"render",value:function(){var e=this,t=this.sortLaptops(this.state.laptops).map(function(t){return r.a.createElement(y,{key:t._id,laptop:t,onDelete:e.deleteLaptop.bind(e,t._id),onSelect:e.props.selectLaptop.bind(e,t._id),onEdit:e.enableEditMode.bind(e,t),isOverdue:t.currentCheckout&&new Date(t.currentCheckout.dueDate)<Date.now()})});return r.a.createElement("section",{id:"laptopView"},r.a.createElement("h1",null,"MAI"),r.a.createElement("h2",null,r.a.createElement("i",{className:"fa fa-laptop"})," laptop",r.a.createElement("span",null,"checkout")),r.a.createElement(Y,{search:this.searchLaptops}),this.state.laptops&&this.state.laptops.length>0?r.a.createElement("ul",{id:"laptopList"},t):r.a.createElement("h3",null,"No laptops found!"),this.state.laptopToUpdate?r.a.createElement(X,{laptop:this.state.laptopToUpdate,updateLaptop:this.updateLaptop}):r.a.createElement(O,{addLaptop:this.addLaptop}))}}]),t}(n.Component),ne=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={userName:"",userEmail:"",mgrName:"",dueDate:""},a.handleChange=function(e){var t=Object(m.a)({},e.target.name,e.target.value);a.setState(function(e){return t})},a.handleSubmit=function(e){e.preventDefault();var t={userName:a.state.userName,userEmail:a.state.userEmail,mgrName:a.state.mgrName,dueDate:a.state.dueDate};a.state.userName&&a.state.mgrName&&a.state.dueDate&&a.props.addCheckout(t)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{id:"checkoutForm"},r.a.createElement("h3",{id:"available"},"Available"),r.a.createElement("form",{id:"checkoutInput"},r.a.createElement(D,{name:"userName",value:this.state.userName,onChange:this.handleChange,placeholder:"User Name"}),r.a.createElement(D,{name:"userEmail",value:this.state.userEmail,onChange:this.handleChange,placeholder:"Email"}),r.a.createElement(D,{name:"mgrName",value:this.state.mgrName,onChange:this.handleChange,placeholder:"Approved By"}),r.a.createElement(E,{name:"dueDate",placeholder:"Due Date",value:this.state.dueDate,onChange:this.handleChange}),r.a.createElement("button",{onClick:this.handleSubmit},"Check out")))}}]),t}(n.Component),re=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={emailSent:!1},a.sendOverdueEmail=Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(a.props.laptop);case 2:a.setState(function(e){return{emailSent:!0}}),a.props.loadLaptop();case 4:case"end":return e.stop()}},e)})),a.sendReminderEmail=Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(a.props.laptop);case 2:a.setState(function(e){return{emailSent:!0}}),a.props.loadLaptop();case 4:case"end":return e.stop()}},e)})),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"currentCheckout"},r.a.createElement("h3",null,"Checked out to:"),r.a.createElement("div",{id:"currentCheckoutInfo"},r.a.createElement("span",{className:"edit",onClick:this.props.onEdit},r.a.createElement("i",{className:"fa fa-edit"})),r.a.createElement("p",null,"Name: ",this.props.checkout.userName," ",r.a.createElement("br",null),"Email: ",this.props.checkout.userEmail," ",r.a.createElement("br",null),"Approved By: ",this.props.checkout.mgrName," ",r.a.createElement("br",null),"Checked Out: ",new Date(this.props.checkout.checkoutDate).toLocaleDateString("en-US",{timeZone:"UTC"})," ",r.a.createElement("br",null),"Due Date: ",new Date(this.props.checkout.dueDate).toLocaleDateString("en-US",{timeZone:"UTC"})," ",r.a.createElement("br",null)," ",r.a.createElement("br",null))),this.props.checkout.lastEmailDate?r.a.createElement("i",null,"Last Notified On: ",new Date(this.props.checkout.lastEmailDate).toLocaleDateString("en-US",{timeZone:"UTC"})):"",!this.state.emailSent&&new Date(this.props.checkout.dueDate)<Date.now()?r.a.createElement("button",{id:"emailButton",onClick:this.sendOverdueEmail},"Send Overdue Notice"):"",!this.state.emailSent&&new Date(this.props.checkout.dueDate)>=Date.now()?r.a.createElement("button",{id:"emailButton",onClick:this.sendReminderEmail},"Send Due Date Reminder"):"",this.state.emailSent?r.a.createElement("button",{id:"emailButton",disabled:!0},"Notification Sent"):"",r.a.createElement("button",{id:"returnButton",onClick:this.props.onReturn},"Return Laptop"))}}]),t}(n.Component),oe={display:"flex",width:"100%"},se={flex:"1",textAlign:"left",padding:"0 40px 0 0",width:"100%"},ce={flex:".7",textAlign:"left",width:"100%"},ue={flex:".5",textAlign:"left",padding:"0 40px",width:"100%"},ie=function(e){var t=e.checkout,a=e.onDelete,n=e.onEdit;return r.a.createElement("li",null,r.a.createElement("span",{className:"delete",onClick:a},r.a.createElement("i",{className:"fa fa-trash"})),r.a.createElement("span",{className:"edit",onClick:n},r.a.createElement("i",{className:"fa fa-edit"})),r.a.createElement("span",{style:oe},r.a.createElement("span",{style:se},r.a.createElement("strong",null,"Name:")," ",t.userName),r.a.createElement("span",{style:se},r.a.createElement("strong",null,"Approved By:")," ",t.mgrName),r.a.createElement("span",{style:ce},r.a.createElement("strong",null,"Checked Out:")," ",new Date(t.checkoutDate).toLocaleDateString("en-US",{timeZone:"UTC"})),r.a.createElement("span",{style:ue},r.a.createElement("strong",null,"Due:")," ",new Date(t.dueDate).toLocaleDateString("en-US",{timeZone:"UTC"})),r.a.createElement("span",{style:ce},r.a.createElement("strong",null,"Returned:")," ",new Date(t.returnDate).toLocaleDateString("en-US",{timeZone:"UTC"}))))},pe=(a(19),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={historyLength:5},a.handleChange=function(e){var t=Object(m.a)({},e.target.name,e.target.value);a.setState(function(e){return t})},a.deleteCheckout=function(){var e=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(a.props.laptop._id,t);case 2:return e.next=4,Z(t);case 4:a.props.updateCheckoutHistory();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderCheckoutList",value:function(e){var t=this;this.props.laptop.currentCheckout&&(e=e.filter(function(e){return e._id!==t.props.laptop.currentCheckout._id})),e.sort(function(e,t){return new Date(t.returnDate)-new Date(e.returnDate)}),this.state.historyLength>0&&(e=e.slice(0,this.state.historyLength));var a=e.map(function(e){return r.a.createElement(ie,{key:e._id,checkout:e,onDelete:t.deleteCheckout.bind(t,e._id),onEdit:t.props.enableEditMode.bind(t,e)})});return r.a.createElement("div",null,r.a.createElement("h3",{id:"checkoutHistoryTitle"},"Checkout History",this.state.historyLength>0?" (Last "+this.state.historyLength+" Checkouts)":" (All Checkouts)"),r.a.createElement("select",{id:"historySelect",name:"historyLength",onChange:this.handleChange},r.a.createElement("option",{value:5},"5 Checkouts"),r.a.createElement("option",{value:10},"10 Checkouts"),r.a.createElement("option",{value:20},"20 Checkouts"),r.a.createElement("option",{value:0},"All Checkouts")),r.a.createElement("ul",{id:"checkoutList"},a))}},{key:"render",value:function(){return this.renderCheckoutList(this.props.laptop.checkoutHistory)}}]),t}(n.Component)),le=function(e){var t=e.onClick;return r.a.createElement("div",{onClick:t,className:"leftAlign"},r.a.createElement("i",{id:"homeButton",className:"fa fa-arrow-left fa-2x"}))},he=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={userName:a.props.checkout.userName,userEmail:a.props.checkout.userEmail,mgrName:a.props.checkout.mgrName,dueDate:"",checkoutDate:"",returnDate:""},a.handleChange=function(e){var t=Object(m.a)({},e.target.name,e.target.value);a.setState(function(e){return t})},a.handleSubmit=function(e){e.preventDefault();var t=a.props.checkout;t.userName=a.state.userName,t.userEmail=a.state.userEmail,t.mgrName=a.state.mgrName,t.dueDate=a.state.dueDate,t.checkoutDate=a.state.checkoutDate,a.props.checkout.returnDate?a.state.userName&&a.state.mgrName&&a.state.dueDate&&a.state.checkoutDate&&a.state.returnDate&&a.state.userEmail&&(t.returnDate=a.state.returnDate,a.props.updateCheckout(t)):a.state.userName&&a.state.mgrName&&a.state.dueDate&&a.state.checkoutDate&&a.state.userEmail&&a.props.updateCheckout(t)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.checkout.dueDate&&this.setState(function(t){return{dueDate:new Date(e.props.checkout.dueDate).toISOString().substring(0,10)}}),this.props.checkout.checkoutDate&&this.setState(function(t){return{checkoutDate:new Date(e.props.checkout.checkoutDate).toISOString().substring(0,10)}}),this.props.checkout.returnDate&&this.setState(function(t){return{returnDate:new Date(e.props.checkout.returnDate).toISOString().substring(0,10)}})}},{key:"render",value:function(){if(this.props.checkout)return r.a.createElement("form",{id:"checkoutInput"},r.a.createElement(D,{name:"userName",value:this.state.userName,onChange:this.handleChange,placeholder:"User Name"}),r.a.createElement(D,{name:"userEmail",value:this.state.userEmail,onChange:this.handleChange,placeholder:"Email"}),r.a.createElement(D,{name:"mgrName",value:this.state.mgrName,onChange:this.handleChange,placeholder:"Approved By"}),r.a.createElement(E,{name:"checkoutDate",placeholder:"Checkout Date",value:this.state.checkoutDate,onChange:this.handleChange}),r.a.createElement(E,{name:"dueDate",placeholder:"Due Date",value:this.state.dueDate,onChange:this.handleChange}),this.props.checkout.returnDate?r.a.createElement(E,{name:"returnDate",placeholder:"Return Date",value:this.state.returnDate,onChange:this.handleChange}):"",r.a.createElement("button",{onClick:this.handleSubmit},"Update Checkout"))}}]),t}(n.Component);function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var me=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={laptop:null,checkoutToUpdate:null,viewHistory:!1},a.loadLaptop=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(a.props.laptopId);case 2:t=e.sent,a.setState(function(e){return{laptop:t}});case 4:case"end":return e.stop()}},e)})),a.addCheckout=function(){var e=Object(i.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(de({},t));case 2:return n=e.sent,e.next=5,T(de({},a.state.laptop,{currentCheckout:n}));case 5:r=e.sent,a.setState(function(e){return{laptop:de({},r)}});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.returnLaptop=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(de({},a.state.laptop.currentCheckout,{returnDate:Date.now()}));case 2:return e.next=4,T(de({},a.state.laptop,{currentCheckout:null}));case 4:t=e.sent,a.setState(function(e){return{laptop:de({},t)}});case 6:case"end":return e.stop()}},e)})),a.enableEditMode=function(){var e=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.state.checkoutToUpdate||a.setState(function(e){return{checkoutToUpdate:de({},t)}});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.disableEditMode=Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(function(e){return{checkoutToUpdate:null}});case 1:case"end":return e.stop()}},e)})),a.enableViewHistory=Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(function(e){return{viewHistory:!0}});case 1:case"end":return e.stop()}},e)})),a.disableViewHistory=Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(function(e){return{viewHistory:!1}});case 1:case"end":return e.stop()}},e)})),a.updateCheckout=function(){var e=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:a.loadLaptop(),a.setState(function(e){return{checkoutToUpdate:null}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadLaptop()}},{key:"renderCheckoutView",value:function(){return r.a.createElement("section",{id:"checkoutView"},r.a.createElement(le,{onClick:this.props.deselectLaptop}),r.a.createElement("h1",null,"Laptop: ",this.state.laptop.name),r.a.createElement("h3",null,"Lease Date: ",this.state.laptop.leaseDate?new Date(this.state.laptop.leaseDate).toLocaleDateString("en-US",{timeZone:"UTC"}):"N/A"),this.state.laptop.currentCheckout?r.a.createElement(re,{laptop:this.state.laptop,checkout:this.state.laptop.currentCheckout,onReturn:this.returnLaptop,onEdit:this.enableEditMode.bind(this,this.state.laptop.currentCheckout),loadLaptop:this.loadLaptop}):"",this.state.laptop.currentCheckout?"":r.a.createElement(ne,{addCheckout:this.addCheckout}),r.a.createElement("button",{id:"historyButton",onClick:this.enableViewHistory},"Checkout History"))}},{key:"renderUpdateCheckoutView",value:function(){return r.a.createElement("section",{id:"checkoutView"},r.a.createElement(le,{onClick:this.disableEditMode}),r.a.createElement("h1",null,"Laptop: ",this.state.laptop.name),r.a.createElement("h3",null,"Lease Date: ",this.state.laptop.leaseDate?new Date(this.state.laptop.leaseDate).toLocaleDateString("en-US",{timeZone:"UTC"}):"N/A"),r.a.createElement(he,{updateCheckout:this.updateCheckout,checkout:this.state.checkoutToUpdate}))}},{key:"renderHistoryView",value:function(){return r.a.createElement("section",{id:"checkoutView"},r.a.createElement(le,{onClick:this.disableViewHistory}),r.a.createElement("h1",null,"Laptop: ",this.state.laptop.name),r.a.createElement("h3",null,"Lease Date: ",this.state.laptop.leaseDate?new Date(this.state.laptop.leaseDate).toLocaleDateString("en-US",{timeZone:"UTC"}):"N/A"),r.a.createElement(pe,{laptop:this.state.laptop,updateCheckoutHistory:this.loadLaptop,enableEditMode:this.enableEditMode}))}},{key:"render",value:function(){return!this.state.laptop||this.state.viewHistory||this.state.checkoutToUpdate?this.state.laptop&&this.state.viewHistory&&!this.state.checkoutToUpdate?this.renderHistoryView():this.state.laptop&&this.state.checkoutToUpdate?this.renderUpdateCheckoutView():r.a.createElement("section",{id:"checkoutView"},r.a.createElement(le,{onClick:this.props.deselectLaptop}),r.a.createElement("h1",null,"Loading...")):this.renderCheckoutView()}}]),t}(n.Component),ve=(a(20),a(21),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={selectedLaptop:null},a.selectLaptop=function(){var e=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(function(e){return{selectedLaptop:t}});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.deselectLaptop=Object(i.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(function(e){return{selectedLaptop:null}});case 1:case"end":return e.stop()}},e)})),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderLaptopListView",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ae,{selectLaptop:this.selectLaptop}))}},{key:"renderCheckoutView",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(me,{laptopId:this.state.selectedLaptop,deselectLaptop:this.deselectLaptop}))}},{key:"render",value:function(){return this.state.selectedLaptop?this.renderCheckoutView():this.renderLaptopListView()}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[12,1,2]]]);
//# sourceMappingURL=main.2d6b49a3.chunk.js.map